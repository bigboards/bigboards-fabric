# Configuration file for /sbin/dhclient, which is included in Debian's
#       dhcp3-client package.
#
# This file has been modified to send the hostname including the domain name.

option rfc3442-classless-static-routes code 121 = array of unsigned integer 8;

send host-name "{{ ansible_hostname }}";

{% if ansible_local.bb.node.role == 'master' %}
prepend domain-name-servers 8.8.8.8, 8.8.4.4;
{% else %}
prepend domain-name-servers {{ ansible_local.bb.network.range }}.1;
{% endif %}

request subnet-mask, broadcast-address, time-offset, routers,
        domain-name, domain-name-servers, domain-search, host-name,
        dhcp6.name-servers, dhcp6.domain-search,
        netbios-name-servers, netbios-scope, interface-mtu,
        rfc3442-classless-static-routes, ntp-servers,
        dhcp6.fqdn, dhcp6.sntp-servers;